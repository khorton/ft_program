% Flight Test Card Start

% =============================================================================#
% created by Kevin Horton, 2011
% 
% This file is part of ft_program.
% 
%     ft_program is free software: The exectuable files are licensed under the
%     Gnu Public License, but the latex files, including this file, are placed 
%     in the public domain.  
% 
% =============================================================================#

% NOTES
% need to use \noindent at the start of each new para to avoid an indent.
% Has several placeholders, to be searched and replaced by a perl script:
% <<<Flt_No>>>
% <<<Date>>>
%<<<Pilot>>>
%<<<FTE>>>
%<<<Purpose>>>


%\documentclass[letterpaper,10pt,halfparskip]{scrartcl}
%\documentclass[10pt,halfparskip]{scrartcl}
% \documentclass[12pt,halfparskip]{scrartcl}
\documentclass[14pt,halfparskip]{scrartcl}
%\documentclass{article}
\usepackage[OT1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage{boxedminipage}
\usepackage{calc} % used by the geometry package to do calculations
\usepackage{color}
\usepackage{extsizes} % for extra font sizes
\usepackage{geometry}
%  \geometry{verbose,letterpaper,tmargin=0.25 in,left=1 in,right=0.25 in,bmargin=0.75 in}
%  \geometry{verbose,paperwidth=5.5 in,paperheight=8.5in,hoffset=-0.25 in,tmargin=0.75 in,left=1 in,right=0 in,bmargin=0.5 in,footskip=20 pt}
 % 0.25 in right margin needed if making 2 pages per page in the pdf file.
  \geometry{reset,verbose,a4paper,tmargin=1 in,left=0.25 in,right=0.25 in,bmargin=0.5 in,footskip=20 pt}
  % 0.15 in right margin needed if doing one page per page, and using Preview to make 2 pages per page.
%  \geometry{reset,verbose,a4paper,tmargin=0.5 in,left=1 in,right=0.15 in,bmargin=0.5 in,footskip=20 pt}
\usepackage{graphicx}
\usepackage{layouts}
\usepackage{multirow}
\usepackage{paralist} % to get compact list environments
\usepackage{pifont} % to get dingbats
\usepackage{ragged2e} % to get the justifying option to make NOTES
\usepackage{tabularx}
\usepackage{textcomp} % for to get degree symbols from \textdegree
%\usepackage[cross,letter]{crop}

% following lengths are used to set row widths to fit the text
\newlength{\colOne}
\newlength{\colTwo}
\newlength{\colThree}
\newlength{\colFour}
\newlength{\colFive}
\newlength{\colSix}
\newlength{\colSeven}
\newlength{\colEight}

% Define Test Point environment
% Concept from TLC2 page 849.
\newcounter{TP} \newsavebox{\TestPointName}
\newenvironment{TestPoint}[1]
   {\stepcounter{TP}
    \noindent\begin{minipage}{\linewidth}
      \Large{\textsf{\textbf{\arabic{TP}. #1}}}\hfill\normalfont\normalsize \begin{boxedminipage}{0.75 in}\textcolor{white}{g}\end{boxedminipage}
%      \Large{\textsf{\textbf{\arabic{TP}. #1}}}\hfill\normalfont\normalsize Start \begin{boxedminipage}{0.75 in}\textcolor{white}{g}\end{boxedminipage}
      \vspace{0.15 in}\par}
   {\par\hfill Complete \begin{boxedminipage}{0.75 in}\textcolor{white}{g}\end{boxedminipage}
   \noindent\rule{\linewidth}{1mm}\vspace{0.15 in}
    \end{minipage}}

%% New environment for NOTES, CAUTIONS and WARNINGS
\newcounter{oldparindent}
\newenvironment{Note}[1][NOTE]
  {
    \setcounter{oldparindent}{\parindent} 
    \begin{quote}
    \centering{\textbf{#1}}
    \\ 
    \justifying  
    \parindent=0pt
  }
  {
    \parindent \value{oldparindent}pt
    \end{quote}
  }

%% New environment for NOTES, CAUTIONS and WARNINGS in checklists
%% Same as normal notes, but no indent.
\newenvironment{Note2}[1][NOTE]
  {
    \setcounter{oldparindent}{\parindent} 
    \centering{\textbf{#1}}
    \\ 
    \justifying  
    \parindent=0pt
  }
  {
    \parindent \value{oldparindent}pt
  }

% used for approach to stall, and other places
\newcounter{TrimSpeed}


% adjust paragraph separation for compactenum environment
%\setlength\plitemsep{2 pt}

\begin{document}

%% Following three lines show a minipage diagram, with margins shown.  Seems to need layouts package.
%\currentpage
%\setlayoutscale{0.5}
%\pagedesign

%\noindent\begin{tabularx}{\linewidth - 10 pt}{llXrlXrl}
\noindent\begin{tabularx}{\linewidth - 10 pt}{llXrlXrl}
  <<<type>>>&<<<aircraft>>>&&Flt \#:&<<<flt_no>>>&&Date:&<<<date>>>
  \end{tabularx}
  
\noindent\begin{tabularx}{\linewidth - 10 pt}{llX|l|c|c|}
  \cline{4-6}
  &&&&Time&Fuel\\
  &&&&&(USG)\\
  \cline{4-6}
  Weight:&<<<to_wt>>> lb.&&Start&&\\
  \cline{4-6}
  CG:&<<<to_cg>>>" aft of datum&&Taxi&&\\
  \cline{4-6}
  &&&Take-off&&\\
  \cline{4-6}
  Pilot:&<<<pilot>>>&&Landing&&\\
  \cline{4-6}
  FTE:&<<<fte>>>&&Stop&&\\
  \cline{4-6}
  &&&Shut Down&&\\
  \cline{4-6}
  \end{tabularx}

%PURPOSE
%\noindent\rule{\linewidth}{1mm}\vspace{0.2 in}
\noindent\rule{\linewidth}{1mm}
%\noindent\rule{\linewidth}{1mm}\vspace{0.1 in}
 \section*{PURPOSE}
    <<<purpose>>>
  
% WEATHER
%\noindent\rule{\linewidth}{1mm}\vspace{0.2 in}
\noindent\rule{\linewidth}{1mm}
%\noindent\rule{\linewidth}{1mm}\vspace{0.1 in}
\section*{WEATHER}
% set widths for table
\settowidth\colOne{LAND}
\settowidth\colTwo{ATIS}
\settowidth\colThree{Wind}
\settowidth\colFour{Vis}
\settowidth\colSix{Temp}
\settowidth\colSeven{Alt.}
\noindent\begin{tabularx}{\linewidth - 10 pt}{|p{\colOne}|p{\colTwo}|p{\colThree}|p{\colFour}|X|p{\colSix}|p{\colSeven}|}
  \hline
  &ATIS&Wind&Vis&Weather&Temp.&Alt.\\
  \hline
  \hline
  T/O&&&&&&\\
  \hline
  LAND&&&&&&\\
  \hline
  \end{tabularx}
  
%LIMITATIONS
\noindent\rule{\linewidth}{1mm}\vspace{0.1 in}
%\noindent\rule{\linewidth}{1mm}
\noindent\begin{minipage}{\linewidth}
\section*{LIMITATIONS}
<<<limitations>>>
\end{minipage}

\noindent\begin{minipage}{\linewidth}
  \section*{WEIGHT AND BALANCE}
    \begin{center}
    \begin{tabular}{|l|r|r|r|}
      \hline
      \multicolumn{1}{|c|}{ITEM}&\multicolumn{1}{c|}{WEIGHT}&\multicolumn{1}{c|}{ARM}&\multicolumn{1}{c|}{MOMENT}\\
      &\multicolumn{1}{c|}{(lb)}&\multicolumn{1}{c|}{(in.)}&\multicolumn{1}{c|}{(lb-in.)}\\
      \hline
      \hline
      Empty Weight&<<<empty_wt>>>&<<<empty_arm>>>&<<<empty_moment>>>\\
      \hline
      Pilot&<<<pilot_seat_wt>>>&<<<pilot_seat_arm>>>&<<<pilot_seat_moment>>>\\
      \hline
      Rear Seat&<<<pax_seat_wt>>>&<<<pax_seat_arm>>>&<<<pax_seat_moment>>>\\
      \hline
      Forward Baggage&<<<baggage1_wt>>>&<<<baggage1_arm>>>&<<<baggage1_moment>>>\\
      \hline
      Rear Baggage&<<<baggage2_wt>>>&<<<baggage2_arm>>>&<<<baggage2_moment>>>\\
      \hline
      Rear Baggage Shelf&<<<baggage3_wt>>>&<<<baggage3_arm>>>&<<<baggage3_moment>>>\\
      \hline
      Ballast 1&<<<ballast1_wt>>>&<<<ballast1_arm>>>&<<<ballast1_moment>>>\\
      \hline
      Ballast 2&<<<ballast2_wt>>>&<<<ballast2_arm>>>&<<<ballast2_moment>>>\\
      \hline
      \hline
      \textbf{Zero Fuel Weight}&\textbf{<<<zfw>>>}&\textbf{<<<zfw_cg>>>}&<<<zfw_moment>>>\\
      \hline
      \hline
      Fuel&<<<fuel_wt>>>&<<<fuel_arm>>>&<<<fuel_moment>>>\\
      \hline
      \hline
      \textbf{Weight at Engine Start}&\textbf{<<<to_wt>>>}&\textbf{<<<to_cg>>>}&<<<to_moment>>>\\
      \hline
      \end{tabular}

%\input{/Users/kwh/Desktop/RV_Stuff/Flt_Test_Program/FT_Cards/wb/wb_chart}
\input{<<<wb_chart>>>}
\end{center}
\end{minipage}

\clearpage
\begin{TestPoint}{BEFORE START}
  \begin{tabular}{p{6cm}|p{2cm}|l}
    % \multicolumn{3}{l}{\textbf{** SET ANALOG ALTIMETER **}}\\
    % \multicolumn{3}{l}{\textbf{** SET EFIS ALTIMETER TO 29.92 **}}\\
    % \multicolumn{3}{l}{\textbf{** START DATA RECORDING **}}\\
  
    \cline{2-2}
    Oil Temp&&\\
    \cline{2-2}
    \multicolumn{3}{l}{Check all engine parametres OK.}
    \end{tabular}
  \end{TestPoint}

\begin{TestPoint}{ENGINE START}
  \begin{tabular}{p{6cm}|p{2cm}|}
    \cline{2-2}
%    Time&\\
%    \cline{2-2}
    Fuel&\\
    \cline{2-2}
    Engine Inst OK after start?&\\
    \cline{2-2}
    Taxi Time&\\
    \cline{2-2}
    Taxi Fuel&\\
    \cline{2-2}
    \end{tabular}
  \vspace{0.1 in}\\
  \include{Observations}
  \end{TestPoint}
  
\begin{TestPoint}{RUN UP}
  \include{Observations}
  \end{TestPoint}
